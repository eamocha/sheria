datePickerOptions={weekStart:1,todayHighlight:!0,format:"yyyy-mm-dd",autoclose:!0,showOnFocus:!1,language:_lang.languageSettings.langName,startDate:-1/0,endDate:1/0,viewMode:"days",minViewMode:"days"};var companyContactFormMatrix={contactDialog:{},companyDialog:{},commonLookup:{}},lowerBound=100,upperBound=999,escapeHtmlMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};function addslashes(e){return(e+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")}function parseDate(e,t){if(""==e)return new Date("");t=t||"yyyy-mm-dd";var e=e.match(/(\d+)/g),r=0,i={};return t.replace(/(yyyy|dd?|mm?)/g,function(e){i[e]=r++}),new Date(e[i.yyyy],e[null==i.mm?i.m:i.mm]-1,e[null==i.dd?i.d:i.dd])}function convertVErrorToPoshyTip(e){e=e||".help-block.error",jQuery(e).each(function(e,t){var n=t.innerHTML;jQuery(t.parentNode).children(":first").poshytip({className:"tip-error",content:n,showOn:"none",alignTo:"target",alignX:"left",alignY:"center",offsetX:5}).poshytip("show"),jQuery(t).remove()})}function getBaseURL(e){if(e="string"==typeof e?"modules/"+e+"/":"",1==jQuery("base:first").length)return jQuery("base:first").attr("href")+e}function scrollToId(e,t){t=t||"html,body",jQuery(t).animate({scrollTop:jQuery(e).offset().top-jQuery("#header_div")[0].clientHeight},{queue:!1})}function ctrlS(e){return!0}function ctrlAltS(e){var msie,isIE11;!0===jQuery.browser.mozilla?(jQuery(window).keypress(function(t){return!(115==t.which&&t.ctrlKey&&t.altKey||19==t.which)||(e(),t.preventDefault(),!1)}),msie=window.navigator.userAgent.indexOf("MSIE "),isIE11=!!navigator.userAgent.match(/Trident\/7\./),(0<msie||isIE11)&&document.addEventListener("keydown",function(t){83==t.keyCode&&(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)&&t.altKey&&(t.preventDefault(),e())},!1)):document.addEventListener?document.addEventListener("keydown",function(t){83==t.keyCode&&(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)&&t.altKey&&(t.preventDefault(),e())},!1):document.attachEvent&&document.attachEvent("onkeydown",function(t){83==t.keyCode&&83==t.keyCode&&t.ctrlKey&&t.altKey&&(e(),t.returnValue=!1)},!1)}function ctrlC(e){var msie,isIE11;!0===jQuery.browser.mozilla?(jQuery(window).keypress(function(t){return!(99==t.which&&t.ctrlKey&&!t.altKey||19==t.which)||(e(),t.preventDefault(),!1)}),msie=window.navigator.userAgent.indexOf("MSIE "),isIE11=!!navigator.userAgent.match(/Trident\/7\./),(0<msie||isIE11)&&document.addEventListener("keydown",function(t){67==t.keyCode&&(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey&&!t.altKey)&&(e(),t.preventDefault())},!1)):document.addEventListener?document.addEventListener("keydown",function(t){67==t.keyCode&&(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey&&!t.altKey)&&(e(),t.preventDefault())},!1):document.attachEvent&&document.attachEvent("onkeydown",function(t){67==t.keyCode&&67==t.keyCode&&t.ctrlKey&&!t.altKey&&t.altKey&&(e(),t.returnValue=!1)},!1)}function ctrlAltC(e){var msie,isIE11;!0===jQuery.browser.mozilla?(jQuery(window).keypress(function(t){return!(99==t.which&&t.ctrlKey&&t.altKey||19==t.which)||(e(),t.preventDefault(),!1)}),msie=window.navigator.userAgent.indexOf("MSIE "),isIE11=!!navigator.userAgent.match(/Trident\/7\./),(0<msie||isIE11)&&document.addEventListener("keydown",function(t){67==t.keyCode&&(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey&&t.altKey)&&(e(),t.preventDefault())},!1)):document.addEventListener?document.addEventListener("keydown",function(t){67==t.keyCode&&(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey&&t.altKey)&&(e(),t.preventDefault())},!1):document.attachEvent&&document.attachEvent("onkeydown",function(t){67==t.keyCode&&67==t.keyCode&&t.ctrlKey&&t.altKey&&(e(),t.returnValue=!1)},!1)}function pinesMessage(msgObj){var feedbackMessageUniqueId=(new Date).getTime()*Math.floor(1e6*Math.random()),n=noty({layout:"topRight",template:'<div id="feedback-message-container-'+feedbackMessageUniqueId+'" class="feedback-message-container"><div id="feedback-message-header" class="feedback-message-header feedback-message-type-'+msgObj.ty+'"><img id="feedback-message-icon" src="assets/images/icons/32/fb_'+msgObj.ty+'.png" class="feedback-message-icon"/><span class="feedback-message-title">'+_lang.feedback_messages[msgObj.ty].toUpperCase()+'</span><span id="feedback-message-close-button-'+feedbackMessageUniqueId+'" class="feedback-message-close-button">&#10005;</span></div><div id="feedback-message-body" class="feedback-message-body"><span id="feedback-message-text" class="feedback-message-text">'+decodeURIComponent(msgObj.m)+"</span></div></div>",animation:{open:"animated fadeInDown",close:"animated fadeOutUp"},callback:{afterShow:function(){function timeOut(delay){setTimeout(function(){void 0===jQuery("#feedback-message-container-"+feedbackMessageUniqueId).attr("data-extend-timeout")&&n.close()},delay)}jQuery("#feedback-message-close-button-"+feedbackMessageUniqueId).click(function(){n.close()}),0!==msgObj.d&&(jQuery("#feedback-message-container-"+feedbackMessageUniqueId).mouseenter(function(){jQuery("#feedback-message-container-"+feedbackMessageUniqueId).attr("data-extend-timeout","true")}),jQuery("#feedback-message-container-"+feedbackMessageUniqueId).mouseleave(function(){jQuery("#feedback-message-container-"+feedbackMessageUniqueId).removeAttr("data-extend-timeout"),timeOut(1e3)}),timeOut(msgObj.d||3e3))}},closeWith:["button"]})}function rawurlencode(e){return e=(e+"").toString(),encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}function resizeNewDialogWindow(e,w,h){var t;t=void 0===w||w<0?(w=Math.max(document.documentElement.clientWidth,window.innerWidth||0),1280<(t=Math.floor(w-180))?1280:t):w,w=void 0===h||h<0?(((h=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-60)<(w=jQuery("#wrap")[0].clientHeight-jQuery(".footer")[0].clientHeight)||w<400)&&(w=h),Math.floor(w-80-10)):h,e.dialog("option","height",w).dialog("option","width",t).dialog("option","position",{my:"center top",at:"center bottom",of:jQuery("#header_div")})}function quick_search(t){var ua;""!==t&&(ua=getBaseURL()+"search/universal/1",t=rawurlencode(t),window.location.href=ua+"?keyword="+t)}function defaultAjaxJSONErrorsHandler(e,n){switch(e.responseText){case"access_denied":ajaxAccessDenied();break;case"feature_access_denied":ajaxFeatureAccessDenied();break;case"login_needed":ajaxLoginForm();break;case"cp_login_needed":ajaxLoginForm("customer-portal");break;case"undefined_rate":window.location=getBaseURL("money")+"setup/rate_between_money_currencies";break;case"":break;default:"string"==typeof n&&pinesMessage({ty:"warning",m:n})}jQuery("#loader-global").is(":visible")&&jQuery("#loader-global").hide()}function defaultAjaxHTMLErrorsHandler(e){switch(e){case"access_denied":ajaxAccessDenied();break;case"feature_access_denied":ajaxFeatureAccessDenied();break;case"login_needed":ajaxLoginForm();break;case"cp_login_needed":ajaxLoginForm("customer-portal");break;default:pinesMessage({ty:"warning",m:e})}}function ajaxAccessDenied(){pinesMessage({ty:"warning",m:_lang.you_do_not_have_enough_previlages_to_access_the_requested_page})}function ajaxFeatureAccessDenied(){var planFeatureWarningMsgsObj=JSON.parse(planFeatureWarningMsgs);pinesMessage({ty:"warning",m:planFeatureWarningMsgsObj["In-line-Word-Editor"]||_lang.you_do_not_have_enough_previlages_to_access_the_requested_feature})}function ajaxLoginForm(module){module=module||!1;var loggedinUserId=jQuery("#loggedin-user-id").attr("value");""===loggedinUserId||void 0===loggedinUserId?window.location=(module?getBaseURL(module):getBaseURL())+"users/login":jQuery.ajax({url:(module?getBaseURL(module):getBaseURL())+"users/login",type:"GET",dataType:"JSON",data:{id:loggedinUserId},beforeSend:function(){},success:function(response){var onthefly_hidden;jQuery(".login-onthefly-hidden").length<=0&&(jQuery('<div class="d-none login-onthefly-hidden"></div>').appendTo("body"),response.html)&&((onthefly_hidden=jQuery(".login-onthefly-hidden")).html(response.html).removeClass("d-none"),jQuery("#username",onthefly_hidden).val(response.username).attr("readonly","readonly"),jQuery(".modal",onthefly_hidden).modal({keyboard:!1,backdrop:"static",show:!0}),jQuery(".modal").on("hidden.bs.modal",function(){destroyModal(onthefly_hidden)}),jQuery(".modal-body").on("scroll",function(){jQuery(".bootstrap-select.open").removeClass("open")}),jQuery(".modal").on("shown.bs.modal",function(e){jQuery("#password",onthefly_hidden).focus()}),jQuery(onthefly_hidden).find("input").keypress(function(e){13==e.which&&jQuery("#login-button-on-fly","#loginForm").trigger("click")}),resizeLoginModal(onthefly_hidden),jQuery(window).bind("resize",function(){resizeLoginModal(onthefly_hidden)}))},error:defaultAjaxJSONErrorsHandler})}function effectiveEffortCompact(e){return null==e?"":String(e)}function json_decode(str_json){var json=this.window.JSON;if("object"==typeof json&&"function"==typeof json.parse)try{return json.parse(str_json)}catch(err){if(err instanceof SyntaxError)return this.php_js=this.php_js||{},this.php_js.last_error_json=4,null;throw new Error("Unexpected error type in json_decode()")}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j,text=str_json;return(cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))?(j=eval("("+text+")"),j):(this.php_js=this.php_js||{},this.php_js.last_error_json=4,null)}function json_encode(e){var t,n=this.window.JSON;try{if("object"==typeof n&&"function"==typeof n.stringify){if(void 0===(t=n.stringify(e)))throw new SyntaxError("json_encode");return t}var i=function(e){var t=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return t.lastIndex=0,t.test(e)?'"'+e.replace(t,function(e){var t=n[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'},s=function(e,t){var f,n="",o=0,u="",a="",l=n,c=[],h=t[e];switch(typeof(h=h&&"object"==typeof h&&"function"==typeof h.toJSON?h.toJSON(e):h)){case"string":return i(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(this.PHPJS_Resource&&h instanceof this.PHPJS_Resource||window.PHPJS_Resource&&h instanceof window.PHPJS_Resource)throw new SyntaxError("json_encode");if(n+="    ",c=[],"[object Array]"===Object.prototype.toString.apply(h)){for(f=h.length,o=0;o<f;o+=1)c[o]=s(o,h)||"null";a=0===c.length?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+l+"]":"["+c.join(",")+"]"}else{for(u in h)Object.hasOwnProperty.call(h,u)&&(a=s(u,h))&&c.push(i(u)+(n?": ":":")+a);a=0===c.length?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+l+"}":"{"+c.join(",")+"}"}return n=l,a;default:throw new SyntaxError("json_encode")}};return s("",{"":e})}catch(o){if(o instanceof SyntaxError)return this.php_js=this.php_js||{},this.php_js.last_error_json=4,null;throw new Error("Unexpected error type in json_encode()")}}function makeDateTimePair(){jQuery(function(){function i(){jQuery(".ui-dialog-buttonset").focus();var t,e=jQuery(this);""!=e.val()&&(t=e.closest(".datepair"),e.hasClass("date")?((e,t)=>{var s,u,o,r=t.find("input.start.date"),i=t.find("input.end.date");r.length&&i.length&&(s=parseDate(r.val()),o=parseDate(i.val()),u=t.data("dateDelta"),!isNaN(u)&&null!==u&&e.hasClass("start")?(u=new Date(s.getTime()+u),i.val(u.format(n)),i.datepicker("option","minDate",r.val())):((u=o.getTime()-s.getTime())<0&&(u=0,e.hasClass("start")?(i.val(r.val()),i.datepicker("option","minDate",r.val())):e.hasClass("end")&&r.val(i.val())),u<864e5?(o=t.find("input.start.time").val())&&t.find("input.end.time").timepicker("option",{minTime:o}):t.find("input.end.time").timepicker("option",{minTime:null}),t.data("dateDelta",u)))})(e,t):e.hasClass("time")&&((e,t)=>{var r=t.find("input.start.time"),i=t.find("input.end.time");if(r.length){var r=r.timepicker("getSecondsFromMidnight"),o=t.data("dateDelta");if(e.hasClass("start")&&(!o||o<864e5)&&i.timepicker("option","minTime",r),i.length){var l,u=i.timepicker("getSecondsFromMidnight"),a=t.data("timeDelta"),f=0;if(a&&e.hasClass("start"))(c=(r+a)%86400)<0&&(c+=86400),i.timepicker("setTime",c),l=c-r;else{if(null===r||null===u)return;l=u-r}t.data("timeDelta",l),l<0&&(!a||0<a)?f=864e5:0<l&&a<0&&(f=-864e5);var c,e=t.find(".start.date"),i=t.find(".end.date");e.val()&&!i.val()&&(i.val(e.val()),i.datepicker("option","minDate",e.val()),o=0,t.data("dateDelta",0)),0==f||!o&&0!==o||(u=parseDate(i.val()),c=new Date(u.getTime()+f),i.val(c.format(n)),i.datepicker("option","minDate",e.val()),t.data("dateDelta",o+f))}}})(e,t))}var n="Y-m-d";jQuery(".datepair input.date").each(function(){var e=jQuery(this),opt=_lang.jQuery_datepicker_options;opt.changeMonth=!0,opt.changeYear=!0,opt.dateFormat="yy-mm-dd",opt.firstDay=1,opt.showAnim="slide",opt.showWeek=!0,e.datepicker(opt),e.attr("readonly","readonly"),(e.hasClass("start")||e.hasClass("end"))&&e.on("changeDate change",i)}),jQuery(".datepair input.time").each(function(){var e=jQuery(this);e.timepicker({scrollDefaultNow:!0,step:30,timeFormat:"H:i",showDuration:!0}),(e.hasClass("start")||e.hasClass("end"))&&e.on("changeTime change",i)}),jQuery(".datepair").each(function(){var f,e=jQuery(this),t=e.find("input.start.date"),n=e.find("input.end.date"),r=0,n=(t.length&&n.length&&(""!=t.val()&&n.datepicker("option","minDate",t.val()),t=parseDate(t.val()),r=parseDate(n.val()).getTime()-t.getTime(),e.data("dateDelta",r)),e.find("input.start.time")),t=e.find("input.end.time");n.length&&t.length&&(n=n.timepicker("getSecondsFromMidnight"),f=t.timepicker("getSecondsFromMidnight"),e.data("timeDelta",f-n),r<864e5)&&t.timepicker("option","minTime",n)})})}function number_format(e,t,n,r){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var e=isFinite(+e)?+e:0,t=isFinite(+t)?Math.abs(t):0,r=void 0===r?",":r,n=void 0===n?".":n,a="";return 3<(a=(t?((e,t)=>(t=Math.pow(10,t),""+Math.round(e*t)/t))(e,t):""+Math.round(e)).split("."))[0].length&&(a[0]=a[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,r)),(a[1]||"").length<t&&(a[1]=a[1]||"",a[1]+=new Array(t-a[1].length+1).join("0")),a.join(n)}function setlocale(category,locale){function _copy(orig){if(orig instanceof RegExp)return new RegExp(orig);if(orig instanceof Date)return new Date(orig);var i,newObj={};for(i in orig)"object"==typeof orig[i]?newObj[i]=_copy(orig[i]):newObj[i]=orig[i];return newObj}var NS_XHTML,NS_XML,categ="",cats=[],i=0,d=this.window.document,phpjs=(this.php_js=this.php_js||{},this.php_js);if(phpjs.locales||(phpjs.locales={},phpjs.locales.en={LC_COLLATE:function(str1,str2){return str1==str2?0:str2<str1?1:-1},LC_CTYPE:{an:/^[A-Za-z\d]+$/g,al:/^[A-Za-z]+$/g,ct:/^[\u0000-\u001F\u007F]+$/g,dg:/^[\d]+$/g,gr:/^[\u0021-\u007E]+$/g,lw:/^[a-z]+$/g,pr:/^[\u0020-\u007E]+$/g,pu:/^[\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]+$/g,sp:/^[\f\n\r\t\v ]+$/g,up:/^[A-Z]+$/g,xd:/^[A-Fa-f\d]+$/g,CODESET:"UTF-8",lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"},LC_TIME:{a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B:["January","February","March","April","May","June","July","August","September","October","November","December"],c:"%a %d %b %Y %r %Z",p:["AM","PM"],P:["am","pm"],r:"%I:%M:%S %p",x:"%m/%d/%Y",X:"%r",alt_digits:"",ERA:"",ERA_YEAR:"",ERA_D_T_FMT:"",ERA_D_FMT:"",ERA_T_FMT:""},LC_MONETARY:{int_curr_symbol:"",currency_symbol:"",mon_decimal_point:".",mon_thousands_sep:",",mon_grouping:[3],positive_sign:"",negative_sign:"-",int_frac_digits:2,frac_digits:2,p_cs_precedes:1,p_sep_by_space:0,n_cs_precedes:1,n_sep_by_space:0,p_sign_posn:3,n_sign_posn:0},LC_NUMERIC:{decimal_point:".",thousands_sep:",",grouping:[3]},LC_MESSAGES:{YESEXPR:"^[yY].*",NOEXPR:"^[nN].*",YESSTR:"",NOSTR:""},nplurals:function(n){return 1!==n?1:0}},phpjs.locales.en_US=_copy(phpjs.locales.en),phpjs.locales.en_US.LC_TIME.c="%a %d %b %Y %r %Z",phpjs.locales.en_US.LC_TIME.x="%D",phpjs.locales.en_US.LC_TIME.X="%r",phpjs.locales.en_US.LC_MONETARY.int_curr_symbol="",phpjs.locales.en_US.LC_MONETARY.p_sign_posn=1,phpjs.locales.en_US.LC_MONETARY.n_sign_posn=1,phpjs.locales.en_US.LC_MONETARY.mon_grouping=[3,3],phpjs.locales.en_US.LC_NUMERIC.thousands_sep="",phpjs.locales.en_US.LC_NUMERIC.grouping=[],phpjs.locales.en_GB=_copy(phpjs.locales.en),phpjs.locales.en_GB.LC_TIME.r="%l:%M:%S %P %Z",phpjs.locales.en_AU=_copy(phpjs.locales.en_GB),phpjs.locales.C=_copy(phpjs.locales.en),phpjs.locales.C.LC_CTYPE.CODESET="ANSI_X3.4-1968",phpjs.locales.C.LC_MONETARY={int_curr_symbol:"",currency_symbol:"",mon_decimal_point:"",mon_thousands_sep:"",mon_grouping:[],p_cs_precedes:127,p_sep_by_space:127,n_cs_precedes:127,n_sep_by_space:127,p_sign_posn:127,n_sign_posn:127,positive_sign:"",negative_sign:"",int_frac_digits:127,frac_digits:127},phpjs.locales.C.LC_NUMERIC={decimal_point:".",thousands_sep:"",grouping:[]},phpjs.locales.C.LC_TIME.c="%a %b %e %H:%M:%S %Y",phpjs.locales.C.LC_TIME.x="%m/%d/%y",phpjs.locales.C.LC_TIME.X="%H:%M:%S",phpjs.locales.C.LC_MESSAGES.YESEXPR="^[yY]",phpjs.locales.C.LC_MESSAGES.NOEXPR="^[nN]",phpjs.locales.fr=_copy(phpjs.locales.en),phpjs.locales.fr.nplurals=function(n){return 1<n?1:0},phpjs.locales.fr.LC_TIME.a=["dim","lun","mar","mer","jeu","ven","sam"],phpjs.locales.fr.LC_TIME.A=["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],phpjs.locales.fr.LC_TIME.b=["jan","fév","mar","avr","mai","jun","jui","aoû","sep","oct","nov","déc"],phpjs.locales.fr.LC_TIME.B=["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],phpjs.locales.fr.LC_TIME.c="%a %d %b %Y %T %Z",phpjs.locales.fr.LC_TIME.p=["",""],phpjs.locales.fr.LC_TIME.P=["",""],phpjs.locales.fr.LC_TIME.x="%d.%m.%Y",phpjs.locales.fr.LC_TIME.X="%T",phpjs.locales.fr_CA=_copy(phpjs.locales.fr),phpjs.locales.fr_CA.LC_TIME.x="%Y-%m-%d"),phpjs.locale||(phpjs.locale="en_US",NS_XHTML="http://www.w3.org/1999/xhtml",NS_XML="http://www.w3.org/XML/1998/namespace",d.getElementsByTagNameNS&&d.getElementsByTagNameNS(NS_XHTML,"html")[0]?d.getElementsByTagNameNS(NS_XHTML,"html")[0].getAttributeNS&&d.getElementsByTagNameNS(NS_XHTML,"html")[0].getAttributeNS(NS_XML,"lang")?phpjs.locale=d.getElementsByTagName(NS_XHTML,"html")[0].getAttributeNS(NS_XML,"lang"):d.getElementsByTagNameNS(NS_XHTML,"html")[0].lang&&(phpjs.locale=d.getElementsByTagNameNS(NS_XHTML,"html")[0].lang):d.getElementsByTagName("html")[0]&&d.getElementsByTagName("html")[0].lang&&(phpjs.locale=d.getElementsByTagName("html")[0].lang)),phpjs.locale=phpjs.locale.replace("-","_"),phpjs.locale in phpjs.locales||phpjs.locale.replace(/_[a-zA-Z]+$/,"")in phpjs.locales&&(phpjs.locale=phpjs.locale.replace(/_[a-zA-Z]+$/,"")),phpjs.localeCategories||(phpjs.localeCategories={LC_COLLATE:phpjs.locale,LC_CTYPE:phpjs.locale,LC_MONETARY:phpjs.locale,LC_NUMERIC:phpjs.locale,LC_TIME:phpjs.locale,LC_MESSAGES:phpjs.locale}),null===locale||""===locale)locale=this.getenv(category)||this.getenv("LANG");else if("[object Array]"===Object.prototype.toString.call(locale))for(i=0;i<locale.length;i++){if(locale[i]in this.php_js.locales){locale=locale[i];break}if(i===locale.length-1)return!1}if("0"===locale||0===locale){if("LC_ALL"!==category)return this.php_js.localeCategories[category];for(categ in this.php_js.localeCategories)cats.push(categ+"="+this.php_js.localeCategories[categ]);return cats.join(";")}if(!(locale in this.php_js.locales))return!1;if("LC_ALL"===category)for(categ in this.php_js.localeCategories)this.php_js.localeCategories[categ]=locale;else this.php_js.localeCategories[category]=locale;return locale}function money_format(format,number){var monetary;return"number"!=typeof number?null:(this.setlocale("LC_ALL","en_US"),monetary=this.php_js.locales[this.php_js.localeCategories.LC_MONETARY].LC_MONETARY,format.replace(/%((=.|[+^(!-])*?)(\d*?)(#(\d+))?(\.(\d+))?([in%])/g,function(n0,flags,n2,width,n4,left,n6,right,conversion){var value="",repl="";if("%"===conversion)return"%";function _str_splice(integerStr,idx,thous_sep){return(integerStr=integerStr.split("")).splice(idx,0,thous_sep),integerStr.join("")}var fillnum,fill=flags&&/=./.test(flags)?flags.match(/=(.)/)[1]:" ",showCurrSymbol=!flags||-1===flags.indexOf("!"),neg=(width=parseInt(width,10)||0,number<0),decpos=(number+="",(number=neg?number.slice(1):number).indexOf(".")),integer=-1!==decpos?number.slice(0,decpos):number,decpos=-1!==decpos?number.slice(decpos+1):"",init_lgth=integer.length,filler=init_lgth<(left=parseInt(left,10));if(filler&&(fillnum=left-init_lgth,integer=new Array(fillnum+1).join(fill)+integer),-1===flags.indexOf("^")){var thous_sep=monetary.mon_thousands_sep,mon_grouping=monetary.mon_grouping;if(mon_grouping[0]<integer.length)for(var i=0,idx=integer.length;i<mon_grouping.length&&!((idx-=mon_grouping[i])<=0);i++)integer=_str_splice(integer,idx,thous_sep=filler&&idx<fillnum?fill:thous_sep);if(0<mon_grouping[i-1])for(;idx>mon_grouping[i-1];)integer=_str_splice(integer,idx-=mon_grouping[i-1],thous_sep=filler&&idx<fillnum?fill:thous_sep)}var value="0"===right?integer:(left=monetary.mon_decimal_point,""!==right&&void 0!==right||(right="i"===conversion?monetary.int_frac_digits:monetary.frac_digits),0===(right=parseInt(right,10))?left=decpos="":right<decpos.length?right>(decpos=Math.round(parseFloat(decpos.slice(0,right)+"."+decpos.substr(right,1)))+"").length&&(decpos=new Array(right-decpos.length+1).join("0")+decpos):right>decpos.length&&(decpos+=new Array(right-decpos.length+1).join("0")),integer+left+decpos),symbol="",init_lgth=(showCurrSymbol&&(symbol="i"===conversion?monetary.int_curr_symbol:monetary.currency_symbol),neg?monetary.n_sign_posn:monetary.p_sign_posn),sep_by_space=neg?monetary.n_sep_by_space:monetary.p_sep_by_space,cs_precedes=neg?monetary.n_cs_precedes:monetary.p_cs_precedes;if(-1!==flags.indexOf("("))repl=(cs_precedes?symbol+(1===sep_by_space?" ":""):"")+value+(cs_precedes?"":(1===sep_by_space?" ":"")+symbol),repl=neg?"("+repl+")":" "+repl+" ";else{var right=monetary.positive_sign,left=monetary.negative_sign,sign=neg?left:right,signPadding="";init_lgth&&(signPadding=new Array((neg?right:left).length-sign.length+1).join(" "));switch(init_lgth){case 0:repl="("+(cs_precedes?symbol+(1===sep_by_space?" ":"")+value:value+(1===sep_by_space?" ":"")+symbol)+")";break;case 1:repl=signPadding+sign+(2===sep_by_space?" ":"")+(cs_precedes?symbol+(1===sep_by_space?" ":"")+value:value+(1===sep_by_space?" ":"")+symbol);break;case 2:repl=(cs_precedes?symbol+(1===sep_by_space?" ":"")+value:value+(1===sep_by_space?" ":"")+symbol)+(2===sep_by_space?" ":"")+sign+signPadding;break;case 3:repl=cs_precedes?signPadding+sign+(2===sep_by_space?" ":"")+symbol+(1===sep_by_space?" ":"")+value:value+(1===sep_by_space?" ":"")+sign+signPadding+(2===sep_by_space?" ":"")+symbol;break;case 4:repl=cs_precedes?symbol+(2===sep_by_space?" ":"")+signPadding+sign+(1===sep_by_space?" ":"")+value:value+(1===sep_by_space?" ":"")+symbol+(2===sep_by_space?" ":"")+sign+signPadding}}decpos=width-repl.length;return 0<decpos&&(decpos=new Array(1+decpos).join(" "),-1!==flags.indexOf("-")?repl+=decpos:repl=decpos+repl),repl}))}function round(value,precision,mode){var f,isHalf,sgn;if(precision|=0,isHalf=(value*=precision=Math.pow(10,precision))%1==.5*(sgn=0<value|-(value<0)),f=Math.floor(value),isHalf)switch(mode){case"PHP_ROUND_HALF_DOWN":value=f+(sgn<0);break;case"PHP_ROUND_HALF_EVEN":value=f+f%2*sgn;break;case"PHP_ROUND_HALF_ODD":value=f+!(f%2);break;default:value=f+(0<sgn)}return(isHalf?value:Math.round(value))/precision}function str_pad(input,pad_length,pad_string,pad_type){function str_pad_repeater(s,len){for(var collect="";collect.length<len;)collect+=s;return collect=collect.substr(0,len)}var pad_to_go;return pad_string=void 0!==pad_string?pad_string:" ","STR_PAD_LEFT"!==pad_type&&"STR_PAD_RIGHT"!==pad_type&&"STR_PAD_BOTH"!==pad_type&&(pad_type="STR_PAD_RIGHT"),0<(pad_to_go=pad_length-(input+="").length)&&("STR_PAD_LEFT"===pad_type?input=str_pad_repeater(pad_string,pad_to_go)+input:"STR_PAD_RIGHT"===pad_type?input+=str_pad_repeater(pad_string,pad_to_go):"STR_PAD_BOTH"===pad_type&&(input=(input=(pad_type=str_pad_repeater(pad_string,Math.ceil(pad_to_go/2)))+input+pad_type).substr(0,pad_length))),input}function preventEnterSubmit(form){form.keydown(function(event){if(13==event.keyCode)return event.preventDefault(),!1})}function resizeLoginModal(container){resizeMiniModal(container),setTimeout(function(){jQuery("#image",container).width(jQuery(".logo").width())},200)}function gregorianToHijri(gregorianDate,dateTime){return dateTime=dateTime||!1,gregorianDate&&dateTime?(dateParts=gregorianDate.split(" - "),"Invalid date"!==(m=moment(dateParts[0])).locale("en").format("YYYY-MM-DD")?m.format("iYYYY-iMM-iDD")+" - "+dateParts[1]:""):"Invalid date"!==(m=moment(gregorianDate)).locale("en").format("YYYY-MM-DD")?m.format("iYYYY-iMM-iDD"):""}function hijriToGregorian(hijriDate,dateTime){return(m=moment(hijriDate,"iYYYY-iMM-iDD")).locale("en").format("YYYY-MM-DD")}function pinesMessageV2(msgObj){var feedbackMessageUniqueId=(new Date).getTime()*Math.floor(1e6*Math.random()),messageContainerElement=jQuery("#"+("custom-notification-wrapper-"+feedbackMessageUniqueId)),n=noty({layout:"topRight",template:'<div id="feedback-message-container-'+feedbackMessageUniqueId+'" class="feedback-message-container feedback-message-v2"><div id="feedback-message-header" class="d-flex feedback-message-header feedback-message-type-'+msgObj.ty+'"><img id="feedback-message-icon" src="assets/images/icons/fb_v2_'+msgObj.ty+'.png" class="feedback-message-icon d-block"/><span id="feedback-message-close-button-'+feedbackMessageUniqueId+'" class="feedback-message-close-button d-block">&#10005;</span></div><div id="feedback-message-body" class="feedback-message-body"><span class="feedback-message-title-v2 center-block text-center d-block">'+_lang.feedback_messages[msgObj.ty]+'</span><span id="feedback-message-text" class="feedback-message-text center-block text-center margin-top-5 d-block">'+decodeURIComponent(msgObj.m)+"</span></div></div>",animation:{open:"animated fadeInDown",close:"animated fadeOutUp"},callback:{afterShow:function(){function timeOut(delay){setTimeout(function(){void 0===messageContainerElement.attr("data-extend-timeout")&&n.close()},delay)}jQuery("#feedback-message-close-button-"+feedbackMessageUniqueId).click(function(){n.close()}),0!==msgObj.d&&(messageContainerElement.mouseenter(function(){jQuery(this).attr("data-extend-timeout","true")}),messageContainerElement.mouseleave(function(){jQuery(this).removeAttr("data-extend-timeout"),timeOut(1e3)}),timeOut(msgObj.d||3e3))}},closeWith:["button"]})}function timeValidation(value){return!!value&&(value=(value=value.toLowerCase()).replace(/\s/g,""),null!==/^([0-9]+h?|[0-9]+h[0-9]m|[0-9]+h[0-9]+m|^[0-9]m|[0-9]+:[0-5]*[0-9]|[0-9]+m?|^[+-]?((\d+(\.\d*)?)|(\.\d+))h?$)$/i.exec(value))}function convertTimeToDecimal(timeHoursMinutes){var result,timesArrH,timeToConvert,timesArrHValue,TimesArr;return timeHoursMinutes?(timeToConvert=(timeHoursMinutes=(timeHoursMinutes=decodeURIComponent(timeHoursMinutes)).toLowerCase()).replace(/\s/g,""),result=timeHoursMinutes,null!==/^([0-9]+h?|[0-9]+h[0-9]m|[0-9]+h[0-9]+m|^[0-9]m|[0-9]+:[0-5]*[0-9]|[0-9]+m?|^[+-]?((\d+(\.\d*)?)|(\.\d+))h?$)$/i.exec(timeToConvert)&&(result=0,timeToConvert.includes(":")?(timesArrHValue=(TimesArr=timeToConvert.split(":",2))[0],TimesArr=TimesArr[1],result=(result+=parseFloat(timesArrHValue))+round(parseFloat(TimesArr)/60,2)):(timesArrH=timeToConvert.split("h",2),timeToConvert=timeToConvert.split("m",2),timesArrHValue=timesArrH[0].includes("m")?"":timesArrH[0],TimesArr=timeToConvert[0].includes("h")?timeToConvert[0].replace(timesArrHValue+"h",""):timeHoursMinutes.includes("m")||timeHoursMinutes.includes("h")?timeToConvert[0]:"",timesArrHValue&&(result+=parseFloat(timesArrHValue)),TimesArr&&(result+=round(parseFloat(TimesArr)/60,2))),parseFloat(result))):""}function convertDecimalToTime(options){var inputHours,remainingHours,output,options=jQuery.extend({time:0,hourMinutes:60},options);return output="",/\d*\.?\d/.test(options.time)&&(inputHours=options.time,remainingHours=(inputHours=parseFloat(inputHours))%1,inputHours=parseInt(inputHours),remainingHours*=options.hourMinutes,options=parseInt(remainingHours),remainingHours=options+(remainingHours-options<=.5?0:1),output=(sections=>{for(var key in timeParts=[],sections)0<sections[key]&&timeParts.push(sections[key]+""+key);return timeParts.join(" ")})({h:parseFloat(inputHours),m:parseFloat(remainingHours)})),output}function lookupCompanyContactType(lookupDetails,container,lookupType,module,systemPreferenceContact){module=module||!1,lookupDetails.callback=lookupDetails.callback||{},lookupDetails.callback.onselect=lookupDetails.callback.onselect||!1,lookupDetails.callback.onClearLookup=lookupDetails.callback.onClearLookup||!1,lookupDetails.callback.onEraseLookup=lookupDetails.callback.onEraseLookup||!1;var id="#"+container.attr("id"),id=(lookupType=lookupType||companyContactFormMatrix.commonLookup[id].lookupType,extra_data="",is_advisor=!1,"contact"==lookupType&&void 0!==lookupDetails.type&&"outsource"==lookupDetails.type&&(is_advisor=!0,extra_data="outsource"==lookupDetails.type?"&extra_data=advisors":""),new Bloodhound({datumTokenizer:function(datum){return Bloodhound.tokenizers.whitespace("")},queryTokenizer:Bloodhound.tokenizers.whitespace,replace:function(url,uriEncodedQuery){return url+"#"+uriEncodedQuery},remote:{url:(module?getBaseURL(module):getBaseURL())+("company"==lookupType?"companies":"contacts")+"/autocomplete?term=%QUERY"+extra_data,filter:function(data){return data},cache:!1,wildcard:"%QUERY"}}));id.initialize(),jQuery(lookupDetails.lookupField).unbind(),jQuery(lookupDetails.lookupField).typeahead({hint:!1,highlight:!0,minLength:3},{source:id.ttAdapter(),display:function(item){return"contact"==lookupType?(item.father?item.firstName+" "+item.father+" "+item.lastName:item.firstName+" "+item.lastName)+(is_advisor&&"advisor"==item.is_advisor?" ("+_lang.advisors+")":""):"company"==lookupType?item.name:""},templates:{empty:['<div class="empty"> '+_lang.noMatchesFound+"</div>"].join("\n"),suggestion:function(data){return"contact"==lookupType?(foreignFullName=data.foreignFullName.trim(),"<div>"+(data.father?data.firstName+" "+data.father+" "+data.lastName:data.firstName+" "+data.lastName)+(foreignFullName?" - "+foreignFullName:"")+(is_advisor&&"advisor"==data.is_advisor?" ("+_lang.advisors+")":"")+"</div>"):"company"==lookupType&&null==data.shortName?"<div>"+data.name+(null==data.foreignName?"":" - "+data.foreignName)+"</div>":"<div>"+data.name+" ("+data.shortName+")"+(null==data.foreignName?"":" - "+data.foreignName)+"</div>"}}}).on("typeahead:selected",function(obj,datum){}).on("typeahead:asyncrequest",function(){jQuery(".loader-submit",container).addClass("loading")}).on("typeahead:asynccancel typeahead:asyncreceive",function(obj,datum){null==datum&&void 0!==lookupDetails.resultHandler&&("contact"==lookupType&&"sla-management-form"!=container.attr("id")&&"main-container"!=container.attr("id")?"no"==systemPreferenceContact?jQuery(".empty",container).html(_lang.no_results_matched):jQuery(".empty",container).html(_lang.no_results_matched_add.sprintf([lookupDetails.lookupField.val()])).addClass("click").attr("onClick",'triggerAddContact("'+lookupDetails.lookupField.val()+'",'+lookupDetails.resultHandler+',"'+container.attr("id")+'");'):"company"==lookupType&&"sla-management-form"!=container.attr("id")&&"main-container"!=container.attr("id")&&("no"==systemPreferenceContact?jQuery(".empty",container).html(_lang.no_results_matched):jQuery(".empty",container).html(_lang.no_results_matched_add.sprintf([lookupDetails.lookupField.val()])).addClass("click").attr("onClick",'triggerAddCompany("'+lookupDetails.lookupField.val()+'",'+lookupDetails.resultHandler+',"'+container.attr("id")+'");'))),jQuery(".loader-submit",container).removeClass("loading")}).on("typeahead:select",function(ev,datum){"client-lookup"===lookupDetails.lookupField.attr("id")&&openManageMoneyAccounts(lookupType,datum.id,"contact"==lookupType?datum.contact_category_id:datum.company_category_id,"client"),lookupDetails.callback.onselect&&isFunction(lookupDetails.callback.onselect)&&lookupDetails.callback.onselect(ev,datum,container)}),lookupCommonFunctions(lookupDetails.lookupField,lookupDetails.hiddenInput,lookupDetails.errorDiv,container,lookupDetails.callback.onEraseLookup,lookupDetails.callback.onClearLookup)}function setDatePicker(idOrClass,container,options){options=options||datePickerOptions,_lang.languageSettings.langName,datePickerOptions.container=idOrClass,options.container=idOrClass,jQuery(idOrClass,container).bootstrapDP(options)}function datePickerExtraOptions(extraOptions){return jQuery.extend(datePickerOptions,extraOptions)}function escapeHtml(text,exceptionTags){if(exceptionTags=exceptionTags||[],text=text?text.toString():null){String.prototype.replaceAll=function(search,replacement){return this.split(search).join(replacement)};for(var fakeExceptionTags=[],i=0;i<exceptionTags.length;i++){var tag=exceptionTags[i].replace(">","||greaterThan||").replace("<","||lessThan||");fakeExceptionTags.push(tag),text=text.replaceAll(exceptionTags[i],tag)}text=text.replace(/[&<>"']/g,function(m){return escapeHtmlMap[m]});for(i=0;i<fakeExceptionTags.length;i++)text=text.replaceAll(fakeExceptionTags[i],exceptionTags[i]);return text}return""}function isFunction(functionToCheck){return functionToCheck&&"[object Function]"==={}.toString.call(functionToCheck)}function animateDropdownMenuInGrids(gridId,scrollTop){scrollTop=scrollTop||150,jQuery(".dropdown-toggle","#"+gridId+" .k-grid-content").click(function(){jQuery(".k-grid-content").animate({scrollTop:scrollTop})}),jQuery(".dropdown .dropdown-menu","#"+gridId+" .k-grid-content").mouseleave(function(){jQuery(this.parentNode).removeClass("open")})}function customGridToolbarCSSButtons(){jQuery(".k-grid-save-changes",".k-grid-toolbar").removeClass("k-button").addClass("btn btn-info margin-right").css("line-height","1").find("span").attr("class",""),jQuery(".k-grid-cancel-changes",".k-grid-toolbar").removeClass("k-button").addClass("btn btn-info").css("line-height","1").find("span").attr("class",""),jQuery(".k-grid-add",".k-grid-toolbar").removeClass("k-button").addClass("btn btn-info margin-right").css("line-height","1").find("span").attr("class","")}function resetPagination(gridContainer){gridContainer.data("kendoGrid").dataSource.read(),jQuery(".k-pager-first").click()}function highLightFirstSuggestion(){jQuery(".tt-dataset").each(function(){jQuery(".tt-suggestion",this).first().addClass("tt-cursor")})}function lookUpUsers(lookupField,hiddenInputIdField,errorField,container,formContainer,moreFilters,callback){moreFilters=moreFilters||!1,callback=callback||!1;var mySuggestion=new Bloodhound({datumTokenizer:function(datum){return Bloodhound.tokenizers.whitespace("firstName")},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:getBaseURL()+(void 0!==moreFilters.keyName?"users/autocomplete/active?term=%QUERY&more_filters["+moreFilters.keyName+"]=%MORE_FILTERS ":"users/autocomplete/active?term=%QUERY"),replace:function(url,uriEncodedQuery){var keyValue;return void 0!==moreFilters.value?(keyValue=encodeURIComponent(moreFilters.value),url.replace("%QUERY",uriEncodedQuery).replace("%MORE_FILTERS",keyValue)):url.replace("%QUERY",uriEncodedQuery)},filter:function(data){return data},cache:!1,wildcard:"%QUERY"}});mySuggestion.initialize(),jQuery(lookupField).typeahead({hint:!1,highlight:!0,minLength:void 0!==moreFilters.minLength?moreFilters.minLength:0},{source:mySuggestion.ttAdapter(),display:function(item){return item.firstName+" "+item.lastName},templates:{empty:['<div class="empty"> '+_lang.noMatchesFound+"</div>"].join("\n"),header:moreFilters?"":'<div class="suggestions-header">'+_lang.allUsers+"</div>"}}).on("typeahead:selected",function(obj,datum){callback.callback&&isFunction(callback.callback)&&callback.callback(datum,container)}).on("typeahead:asyncrequest",function(){jQuery(".loader-submit",formContainer).addClass("loading")}).on("typeahead:asynccancel typeahead:asyncreceive",function(obj,datum){""==obj.currentTarget.value&&null==datum&&moreFilters&&jQuery(".empty","#"+obj.currentTarget.form.id).html(moreFilters.messageDisplayed),jQuery(".loader-submit",formContainer).removeClass("loading"),highLightFirstSuggestion()}).on("focus",function(){highLightFirstSuggestion()}),void 0===moreFilters.resize&&resizeLookupDropDownWidth(container),isFunction(callback.onEraseLookup)&&callback.onEraseLookup||(callback.onEraseLookup=!1),lookupCommonFunctions(lookupField,hiddenInputIdField,errorField,formContainer,callback.onEraseLookup)}function lookUpCollaborators(lookupField,hiddenInputIdField,errorField,container,formContainer,moreFilters,callback){moreFilters=moreFilters||!1,callback=callback||!1;var mySuggestion=new Bloodhound({datumTokenizer:function(datum){return Bloodhound.tokenizers.whitespace("")},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:getBaseURL()+"customer_portal/lookup_collaborators?term=%QUERY",filter:function(data){return data},replace:function(url,uriEncodedQuery){return url.replace("%QUERY",uriEncodedQuery)},cache:!1,wildcard:"%QUERY"}});mySuggestion.initialize(),jQuery(lookupField).typeahead({hint:!1,highlight:!0,minLength:void 0!==moreFilters.minLength?moreFilters.minLength:0},{source:mySuggestion.ttAdapter(),display:function(item){return item.firstName+" "+item.lastName},templates:{empty:['<div class="empty"> '+_lang.noMatchesFound+"</div>"].join("\n"),header:moreFilters?"":'<div class="suggestions-header">'+_lang.allCollaborators+"</div>"}}).on("typeahead:selected",function(obj,datum){callback.callback&&isFunction(callback.callback)&&callback.callback(datum,container)}).on("typeahead:asyncrequest",function(){jQuery(".loader-submit",formContainer).addClass("loading")}).on("typeahead:asynccancel typeahead:asyncreceive",function(obj,datum){""==obj.currentTarget.value&&null==datum&&moreFilters&&jQuery(".empty","#"+obj.currentTarget.form.id).html(moreFilters.messageDisplayed),jQuery(".loader-submit",formContainer).removeClass("loading"),highLightFirstSuggestion()}).on("focus",function(){highLightFirstSuggestion()}),void 0===moreFilters.resize&&resizeLookupDropDownWidth(container),isFunction(callback.onEraseLookup)&&callback.onEraseLookup||(callback.onEraseLookup=!1),lookupCommonFunctions(lookupField,hiddenInputIdField,errorField,formContainer,callback.onEraseLookup)}function resizeLookupDropDownWidth(container){setTimeout(function(){jQuery(".tt-menu",container).width(jQuery(".users-lookup-container",container).width()-3)},300),jQuery(window).bind("resize",function(){jQuery(".tt-menu",container).width(jQuery(".users-lookup-container",container).width()-3)})}function contractActionEvent(action,container,resetStep){resetStep=resetStep||!1,jQuery("#option",container).val(action),resetStep&&(step=parseInt(jQuery(".modal-footer",container).attr("data-field")),jQuery(".modal-footer",container).attr("data-field",step-1)),jQuery(".next",container).click()}function isOneInputChecked(sel,type){for(var inputs=jQuery("input[type="+type+"]",sel),k=0;k<inputs.length;k++){if(1!=jQuery(inputs[k]).attr("is_required"))return!0;if(inputs[k].checked)return!0}return!1}function rightClickKendo(grid,gridName){jQuery(grid).contextmenu(function(e){e.preventDefault()}),jQuery(grid).on("mousedown","tr[role='row']",function(e){var selectedRow;e.preventDefault(),3===e.which&&(jQuery(this).addClass("k-state-selected"),selectedRow=jQuery(grid).data("kendoGrid").dataItem(jQuery(this)),jQuery("#"+gridName+"-actions-menu_"+selectedRow.id).addClass("open action-hide-kendo"),jQuery("#"+gridName+"-dropdown-menu_"+selectedRow.id).addClass("p-fixed").css({top:e.pageY+"px",left:e.pageX+"px"}),jQuery(this).mouseleave(function(){jQuery(grid+" .actions-cell .dropdown").removeClass("action-hide-kendo"),jQuery("#docs-actions-menu_"+selectedRow.id).removeClass("open"),jQuery("#docs-dropdown-menu_"+selectedRow.id).removeClass("p-fixed").css({top:"auto",left:"auto"}),jQuery(this).removeClass("k-state-selected")}))})}function selectRemoveAllOptions(container,disabledOptions){Selectize.define("select_remove_all_options",function(options){var self,original;"single"!==this.settings.mode&&((self=this).setup=(original=self.setup,function(){original.apply(this,arguments);var allBtn=jQuery('<button type="button" class="btn btn-xs btn-allbtn">'+_lang.selectAll+"</button>"),clearBtn=jQuery('<button type="button" class="btn btn-xs  btn-primary-outline">'+_lang.clear+"</button>");jQuery(".select-remove-all-options-btn-grp",container).append(clearBtn," ",allBtn),allBtn.on("click",function(){self.setValue(jQuery.map(self.options,function(v,k){if(-1===jQuery.inArray(k,disabledOptions))return k}))}),clearBtn.on("click",function(){self.setValue([])})}))})}function companyAddFormSubmit(container,module){module=module||!1;var formData=jQuery("form",container).serialize();jQuery.ajax({beforeSend:function(){jQuery(".loader-submit",container).addClass("loading"),jQuery(".modal-save-btn",container).attr("disabled","disabled")},data:formData,dataType:"JSON",type:"POST",url:getBaseURL(module)+"companies/add",success:function(response){if(jQuery(".inline-error",container).addClass("d-none"),response.result)jQuery("#import-company-container").length&&location.reload(),companyContactFormMatrix[container].lookupResultHandler&&companyContactFormMatrix[container].lookupResultHandler(response.records,companyContactFormMatrix[container].referalContainerId),jQuery("#companyGrid").length&&jQuery("#companyGrid").data("kendoGrid").dataSource.read(),jQuery("#company-group-grid").length&&jQuery("#company-group-grid").data("kendoGrid").dataSource.read(),updateGetingStartedSteps("company"),pinesMessage("customer-portal"==module?{ty:"success",m:_lang.feedback_messages.addedNewCompanyInCpSuccessfully}:{ty:"success",m:_lang.feedback_messages.addedNewCompanySuccessfully.sprintf([getBaseURL()+"companies/tab_company/"+response.records.id,response.records.companyID])}),jQuery(".modal",container).modal("hide"),jQuery("#money-client-form").length||(jQuery("#clientLookup","#legalCaseAddForm").length&&jQuery("#clientLookup","#legalCaseAddForm").attr("title",null!=response.records.foreignName?response.records.foreignName:""),jQuery("#clientLookup","#ipEditForm").length&&jQuery("#clientLookup","#ipEditForm").attr("title",null!=response.records.foreignName?response.records.foreignName:""),"customer-portal"!=module&&openManageMoneyAccounts("company",response.records.id,response.records.company_category_id));else{if(jQuery(".inline-error",container).removeClass("validation-error"),response.validationErrors)for(i in response.validationErrors)jQuery("div",container).find("[data-field="+i+"]").removeClass("d-none").html(response.validationErrors[i]).addClass("validation-error");response.address_error&&jQuery.each(response.address_error,function(index,val){var count=parseInt(index)+1;jQuery.each(val,function(field,error){jQuery("div#address-details-container-"+count,container).find("[data-field="+field+"]").removeClass("d-none").html(error).addClass("validation-error")})}),scrollToValidationError(container)}},complete:function(){jQuery(".modal-save-btn",container).removeAttr("disabled"),jQuery(".loader-submit",container).removeClass("loading")},error:defaultAjaxJSONErrorsHandler})}function triggerAddCompany(lookupValue,lookupResultHandler,container){companyContactFormMatrix.companyDialog={referalContainerId:void 0!==companyContactFormMatrix.commonLookup[container]&&void 0!==companyContactFormMatrix.commonLookup[container].referalContainerId?companyContactFormMatrix.commonLookup[container].referalContainerId:"#"+container,lookupResultHandler:lookupResultHandler,lookupValue:lookupValue},companyAddForm()}function updateGetingStartedSteps(stepName){var nextStep;jQuery("#getting-started-container").length&&(stepName=stepName+"-section",nextStep="",jQuery("."+stepName,"#getting-started-container").addClass("step-done"),jQuery(".done-sign","."+stepName).removeClass("d-none"),jQuery.each(jQuery(".section",".steps-section"),function(key,value){if(!jQuery(this).hasClass("step-done"))return nextStep=jQuery(this).attr("id"),!1}),nextStep?updateGettingStartedHelpers(nextStep):(jQuery(".section-img").tipsy("hide"),hideGettingStarted()),stepName=jQuery(".step-done","#getting-started-container").length,jQuery(".gauge-container","#getting-started-container").kumaGauge("update",{value:Math.floor(stepName*(100/6))}))}function openManageMoneyAccounts(model,modelId,category,target){target=target||"",jQuery.ajax({beforeSend:function(){jQuery("#loader-global").show(),jQuery('<div id="global-fade-in" class="modal-backdrop fade in"></div>').appendTo("body")},type:"POST",dataType:"JSON",success:function(response){var manageMoneyAccountsDialog;response&&(jQuery("#global-fade-in").remove(),jQuery("#loader-global").hide(),response.error?pinesMessage({ty:"information",m:response.error}):1==response.result&&(jQuery("#manage-money-accounts-dialog").length||jQuery("<div id='manage-money-accounts-dialog'></div>").appendTo("body"),(manageMoneyAccountsDialog=jQuery("#manage-money-accounts-dialog")).html(response.html),initializeModalSize(manageMoneyAccountsDialog,.3,"auto"),jQuery(".modal",manageMoneyAccountsDialog).modal({keyboard:!1,backdrop:"static",show:!0}),jQuery(".select-picker",manageMoneyAccountsDialog).selectpicker({dropupAuto:!1}),jQuery(document).keyup(function(e){27==e.keyCode&&jQuery(".modal",manageMoneyAccountsDialog).modal("hide")}),jQuery("#manage-money-accounts-submit-btn").click(function(){submitManageMoneyAccounts(model,modelId,category)}),jQuery("#select-all",manageMoneyAccountsDialog).on("change",function(){jQuery(this).prop("checked")?jQuery('[data-field="record-checkbox"]',manageMoneyAccountsDialog).each(function(){jQuery(this).prop("checked",!0).trigger("change")}):jQuery('[data-field="record-checkbox"]',manageMoneyAccountsDialog).each(function(){jQuery(this).prop("checked",!1).trigger("change")})})))},error:defaultAjaxJSONErrorsHandler,url:getBaseURL()+"contacts/manage_money_accounts/"+model+"/"+modelId+"/"+category+(""!=target?"/"+target:"")})}function lookUpContacts(lookupDetails,container,isBoxContainer,moreFilters,showEmail){moreFilters=moreFilters||!1,isBoxContainer=isBoxContainer||!1,showEmail=showEmail||!1,lookupDetails.onEraseLookup=lookupDetails.onEraseLookup||!1,lookupDetails.onChangeEvent=lookupDetails.onChangeEvent||!1;var mySuggestion=new Bloodhound({datumTokenizer:function(datum){return Bloodhound.tokenizers.whitespace("")},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:getBaseURL()+(moreFilters?"contacts/autocomplete?term=%QUERY&more_filters["+moreFilters.keyName+"]=%MORE_FILTERS ":"contacts/autocomplete?term=%QUERY&show_email="+showEmail),replace:function(url,uriEncodedQuery){var keyValue;return moreFilters?(keyValue=encodeURIComponent(moreFilters.value),url.replace("%QUERY",uriEncodedQuery).replace("%MORE_FILTERS",keyValue)):url.replace("%QUERY",uriEncodedQuery)},filter:function(data){return data},cache:!1,wildcard:"%QUERY"}});mySuggestion.initialize(),jQuery(lookupDetails.lookupField).typeahead({hint:!1,highlight:!0,minLength:3},{source:mySuggestion.ttAdapter(),display:function(item){if(!isBoxContainer)return(item.father?item.firstName+" "+item.father+" "+item.lastName:item.firstName+" "+item.lastName)+(showEmail?null!=item.email?" ("+item.email+")":" <span class='text-danger'>("+_lang.noEmailAddress+")</span>":"")},templates:{empty:['<div class="empty click" ></div>'].join("\n"),suggestion:function(data){return foreignFullName=data.foreignFullName.trim(),"<div>"+(data.father?data.firstName+" "+data.father+" "+data.lastName:data.firstName+" "+data.lastName)+(foreignFullName?" - "+foreignFullName:"")+(showEmail?null!=data.email?" ("+data.email+")":" <span class='text-danger'>("+_lang.noEmailAddress+")</span>":"")+"</div>"}}}).on("typeahead:selected",function(obj,datum){isBoxContainer&&(jQuery("div",jQuery("."+lookupDetails.lookupContainer,container)).find("[data-field="+lookupDetails.errorDiv+"]").addClass("d-none"),lookupBoxContainerDesign(jQuery("."+lookupDetails.lookupContainer,container)),setNewBoxElement(lookupDetails.boxId,lookupDetails.lookupContainer,"#"+container.attr("id"),{id:datum.id,value:(datum.father?datum.firstName+" "+datum.father+" "+datum.lastName:datum.firstName+" "+datum.lastName)+(showEmail?null!=datum.email?" ("+datum.email+")":" <span class='text-danger'>("+_lang.noEmailAddress+")</span>":""),name:lookupDetails.boxName}))}).on("typeahead:asyncrequest",function(){jQuery(".loader-submit",container).addClass("loading")}).on("typeahead:asynccancel typeahead:asyncreceive",function(obj,datum){null==datum&&(countDialog("contact-dialog-")<2?jQuery(".empty",container).html(_lang.no_results_matched_add.sprintf([lookupDetails.lookupField.val()])).attr("onClick",'triggerAddContact("'+lookupDetails.lookupField.val()+'",'+lookupDetails.resultHandler+',"'+container.attr("id")+'")'):jQuery(".empty",container).html(_lang.no_results_matched).removeClass("click").attr("onClick","")),""==obj.currentTarget.value&&null==datum&&moreFilters&&jQuery(".empty","#"+obj.currentTarget.form.id).html(moreFilters.messageDisplayed),jQuery(".loader-submit",container).removeClass("loading")}).on("focus",function(){highLightFirstSuggestion()}).on("typeahead:change",function(){lookupDetails.onChangeEvent&&isFunction(lookupDetails.onChangeEvent)&&lookupDetails.onChangeEvent()}),isBoxContainer||lookupCommonFunctions(lookupDetails.lookupField,lookupDetails.hiddenId,lookupDetails.errorDiv,container,lookupDetails.onEraseLookup)}function contactAddFormSubmit(container,module){module=module||!1;var formData=jQuery("form",container).serialize();jQuery.ajax({beforeSend:function(){jQuery(".loader-submit",container).addClass("loading"),jQuery(".modal-save-btn",container).attr("disabled","disabled")},data:formData,dataType:"JSON",type:"POST",url:getBaseURL(module)+"contacts/add",success:function(response){if(jQuery(".inline-error",container).addClass("d-none"),response.result){jQuery("#import-contact-container").length&&location.reload();var contactDialog=jQuery(container);companyContactFormMatrix[container].lookupResultHandler&&companyContactFormMatrix[container].lookupResultHandler(response.records,companyContactFormMatrix[container].referalContainerId),jQuery("#relatedContactsGrid").length&&jQuery("#relatedContactsGrid").data("kendoGrid").dataSource.read(),jQuery("#searchResults").length&&jQuery("#searchResults").data("kendoGrid").dataSource.read(),updateGetingStartedSteps("contact"),pinesMessage({ty:"success",m:_lang.feedback_messages.addedNewContactSuccessfully}),jQuery("#money-client-form").length||(jQuery("#clientLookup","#legalCaseAddForm").length&&jQuery("#clientLookup","#legalCaseAddForm").attr("title",(null!=response.records.foreignFirstName?response.records.foreignFirstName:"")+" "+(null!=response.records.foreignLastName?response.records.foreignLastName:"")),jQuery("#clientLookup","#ipEditForm").length&&jQuery("#clientLookup","#ipEditForm").attr("title",(null!=response.records.foreignFirstName?response.records.foreignFirstName:"")+" "+(null!=response.records.foreignLastName?response.records.foreignLastName:"")),"customer-portal"!=module&&openManageMoneyAccounts("contact",response.records.id,response.records.contact_category_id)),response.cloned?(jQuery("#clone",contactDialog).val("no"),jQuery(".value-to-be-uncloned",contactDialog).val(""),jQuery("#privateLink",contactDialog).removeClass("d-none"),jQuery("#publicLink",contactDialog).addClass("d-none"),jQuery(".shared-with-label",contactDialog).removeClass("d-none"),jQuery(".users-lookup-container",contactDialog).addClass("d-none"),jQuery("#selected-watchers",contactDialog).addClass("d-none"),jQuery(".autocomplete-helper","#contact-privacy-container").addClass("d-none"),jQuery(".date-of-birth",contactDialog).bootstrapDP("setEndDate",getCurrentDate())):jQuery(".modal",contactDialog).modal("hide")}else{for(i in jQuery(".inline-error",container).removeClass("validation-error"),response.validationErrors)jQuery("div",container).find("[data-field="+i+"]").removeClass("d-none").html(response.validationErrors[i]).addClass("validation-error");scrollToValidationError(container)}},complete:function(){jQuery(".modal-save-btn",container).removeAttr("disabled"),jQuery(".loader-submit",container).removeClass("loading")},error:defaultAjaxJSONErrorsHandler})}function triggerAddContact(lookupValue,lookupResultHandler,container,company,customData=null){companyContactFormMatrix.contactDialog={referalContainerId:void 0!==companyContactFormMatrix.commonLookup[container]&&void 0!==companyContactFormMatrix.commonLookup[container].referalContainerId?companyContactFormMatrix.commonLookup[container].referalContainerId:"#"+container,lookupResultHandler:lookupResultHandler,lookupValue:lookupValue,company:company=company||null,customData:customData},contactAddForm()}function setSelectedContactToCompany(contact,container){setNewBoxElement("#selected-lawyers","lawyer-lookup-container",container,{id:contact.id,value:contact.father?contact.firstName+" "+contact.father+" "+contact.lastName:contact.firstName+" "+contact.lastName,name:"companyLawyers"}),jQuery(".twitter-typeahead",container).length&&(jQuery("#lookup-lawyers",container).val("").typeahead("destroy"),lookUpContacts({lookupField:jQuery("#lookup-lawyers",container),lookupContainer:"lawyer-lookup-container",errorDiv:"lookupLawyers",boxName:"companyLawyers",boxId:"#selected-lawyers",resultHandler:setSelectedContactToCompany},jQuery(container),!0))}function showMoreFields(container,scrollTo){jQuery(".show-rest-fields",container).addClass("d-none"),jQuery(".hide-rest-fields",container).removeClass("d-none"),jQuery(".container-hidden-fields",container).removeClass("d-none"),jQuery(".modal-body").scrollTo(scrollTo)}function showLessFields(container){jQuery(".hide-rest-fields",container).addClass("d-none"),jQuery(".show-rest-fields",container).removeClass("d-none"),jQuery(".container-hidden-fields",container).addClass("d-none")}function getCurrentDate(){return new Date}function lookUpNationalities(lookupField,hiddenInputIdField,inputContainer,container,module){module=module||!1;module=new Bloodhound({datumTokenizer:function(datum){return Bloodhound.tokenizers.whitespace("countryName")},queryTokenizer:Bloodhound.tokenizers.whitespace,replace:function(url,uriEncodedQuery){return url+"#"+uriEncodedQuery},remote:{url:getBaseURL(module)+"home/load_country_list?term=%QUERY",filter:function(data){return data},cache:!1,wildcard:"%QUERY"}});module.initialize(),jQuery(lookupField).typeahead({hint:!1,highlight:!0,minLength:2},{source:module.ttAdapter(),display:function(item){},templates:{empty:['<div class="empty"> '+_lang.noMatchesFound+"</div>"].join("\n"),suggestion:function(data){return"<div>"+data.countryName+"</div>"}}}).on("typeahead:selected",function(obj,datum){jQuery("."+hiddenInputIdField,inputContainer).addClass("d-none"),lookupBoxContainerDesign(inputContainer),setNewBoxElement("#selected_nationalities","nationality-lookup-container",container,{id:datum.id,value:datum.countryName,name:hiddenInputIdField})}).on("typeahead:asyncrequest",function(){jQuery(".loader-submit",container).addClass("loading")}).on("typeahead:asynccancel typeahead:asyncreceive",function(){jQuery(".loader-submit",container).removeClass("loading")})}function setSelectedCompanyToContact(company,container){setNewBoxElement("#selected_companies","company-lookup-container",container,{id:company.id,value:company.name,name:"companies_contacts"}),jQuery(".twitter-typeahead",container).length&&(jQuery("#lookupCompanies",container).val("").typeahead("destroy"),lookUpCompanies({lookupField:jQuery("#lookupCompanies",container),errorDiv:"companies_contacts",lookupContainer:jQuery(".company-lookup-container",container),resultHandler:setSelectedCompanyToContact},jQuery(container))),jQuery("#address1",container).val(company.address),jQuery("#city",container).val(company.city),jQuery("#country_id",container).val(company.country).selectpicker("refresh"),jQuery("#state",container).val(company.state),jQuery("#zip",container).val(company.zip),jQuery("#phone",container).val(company.phone),jQuery("#fax",container).val(company.fax),jQuery("#website",container).val(company.website)}function lookUpCompanies(lookupDetails,container,module){module=module||!1;var isBoxContainer=void 0===lookupDetails.isBoxContainer||lookupDetails.isBoxContainer,module=new Bloodhound({datumTokenizer:function(datum){return Bloodhound.tokenizers.whitespace("")},queryTokenizer:Bloodhound.tokenizers.whitespace,replace:function(url,uriEncodedQuery){return url+"#"+uriEncodedQuery},remote:{url:getBaseURL(module)+"companies/autocomplete?term=%QUERY",filter:function(data){return data},cache:!1,wildcard:"%QUERY"}});module.initialize(),jQuery(lookupDetails.lookupField).typeahead({hint:!1,highlight:!0,minLength:3},{source:module.ttAdapter(),display:function(item){if(!isBoxContainer)return item.name},templates:{empty:['<div class="empty click"></div>'].join("\n"),suggestion:function(data){return null==data.shortName?"<div>"+data.name+(null==data.foreignName?"":" - "+data.foreignName)+"</div>":"<div>"+data.name+" ("+data.shortName+")"+(null==data.foreignName?"":" - "+data.foreignName)+"</div>"}}}).on("typeahead:selected",function(obj,datum){isBoxContainer&&(jQuery("div",lookupDetails.lookupContainer).find("[data-field="+lookupDetails.errorDiv+"]").addClass("d-none"),lookupBoxContainerDesign(lookupDetails.lookupContainer),setSelectedCompanyToContact(datum,"#"+container.attr("id")))}).on("typeahead:asyncrequest",function(){jQuery(".loader-submit",container).addClass("loading")}).on("typeahead:asynccancel typeahead:asyncreceive",function(obj,datum){null==datum&&(countDialog("company-dialog-")<1?jQuery(".empty",lookupDetails.lookupContainer).html(_lang.no_results_matched_add.sprintf([lookupDetails.lookupField.val()])).attr("onClick",'triggerAddCompany("'+lookupDetails.lookupField.val()+'",'+lookupDetails.resultHandler+',"'+container.attr("id")+'");'):jQuery(".empty",lookupDetails.lookupContainer).html(_lang.no_results_matched).removeClass("click").attr("onClick","")),jQuery(".loader-submit",container).removeClass("loading")}),isBoxContainer||lookupCommonFunctions(lookupDetails.lookupField,lookupDetails.hiddenId,lookupDetails.errorDiv,container)}function lookupTypeToCopyAddress(lookupField,container,initializeFunctions){initializeFunctions=initializeFunctions||!1;var copyAddressFromContainer=jQuery("#copyAddressFromContainer",container),lookupType=(jQuery("#copyAddressFromType",copyAddressFromContainer).change(function(){jQuery("#copyAddressFromLookup",copyAddressFromContainer).val("")}),jQuery("select#copyAddressFromType",copyAddressFromContainer).val()),mySuggestion=new Bloodhound({datumTokenizer:function(datum){return Bloodhound.tokenizers.whitespace("")},queryTokenizer:Bloodhound.tokenizers.whitespace,replace:function(url,uriEncodedQuery){return url+"#"+uriEncodedQuery},remote:{url:getBaseURL()+lookupType+"/autocomplete?term=%QUERY",filter:function(data){return data},cache:!1,wildcard:"%QUERY"}}),lookupField=(mySuggestion.initialize(),jQuery(lookupField).typeahead({hint:!1,highlight:!0,minLength:3},{source:mySuggestion.ttAdapter(),display:function(item){},templates:{empty:['<div class="empty"> '+_lang.noMatchesFound+"</div>"].join("\n"),suggestion:function(data){return"contacts"==lookupType?(foreignFullName=data.foreignFullName.trim(),"<div>"+(data.father?data.firstName+" "+data.father+" "+data.lastName:data.firstName+" "+data.lastName)+(foreignFullName?" - "+foreignFullName:"")+"</div>"):"companies"==lookupType&&null==data.shortName?"<div>"+data.name+(null==data.foreignName?"":" - "+data.foreignName)+"</div>":"<div>"+data.name+" ("+data.shortName+")"+(null==data.foreignName?"":" - "+data.foreignName)+"</div>"}}}));initializeFunctions&&lookupField.on("typeahead:selected",function(obj,datum){("contacts"==jQuery("select#copyAddressFromType",container).val()?copyAddressFromContact:copyAddressFromCompany)(datum,container,!0)}).on("typeahead:asyncrequest",function(){jQuery(".loader-submit",container).addClass("loading")}).on("typeahead:asynccancel typeahead:asyncreceive",function(obj,datum){jQuery(".loader-submit",container).removeClass("loading")})}function addContactEmailRowToAddForm(emailField,container){var email=emailField.val(),validation=validateEmail(emailField),contactEmailId=jQuery('element[id^="contact-email-"]','element[id^="contact-add-form"]').length;!0===validation?contactEmailAlreadyExists(email,container)?jQuery("#contact-emails-error").html("<p>Email Address Already Exists</p>").removeClass("d-none"):(validation="",container.append(validation=(validation=(validation+='<div class="row justify-content-between align-items-center multi-option-selected-items no-margin contact-email" id="contact-email'+contactEmailId+'">')+("<span>"+email+"</span>")+('<input type="hidden" name="contact_emails[]" value="'+email+'">'))+'<input value="x" type="button" class="btn btn-default btn-sm" onclick="jQuery(this.parentNode).remove();" />'+"</div>"),emailField.val(null),jQuery("#contact-emails-error").addClass("d-none")):0<email.length&&jQuery("#contact-emails-error").html("<p>Invalid</p>").removeClass("d-none")}function validateEmail(field,rules,i,options){field=field.val();return!!/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,8}(?:\.[a-z]{2})?)$/i.test(field)||_lang.invalid_email}function contactEmailAlreadyExists(email,container){var result=!1;return container.find('input[name="contact_emails[]"]').each(function(){if(jQuery(this).val()==email)return!(result=!0)}),result}function countDialog(prefixId){return jQuery("[id^="+prefixId+"]").length}function resizeMiniModal(container){jQuery(window).width()<=500?jQuery(".modal-dialog",container).addClass("modal-xs").removeClass("width-450"):jQuery(".modal-dialog",container).removeClass("modal-xs").addClass("width-450")}function initializeModalSize(container,widthPercentage,heightPercentage){setTimeout(function(){dropDownPosition(container)}),widthPercentage=widthPercentage||.5,heightPercentage=heightPercentage||.6,container=jQuery(".modal-resizable",container),jQuery(".modal-body",container).css("height",jQuery(window).height()*heightPercentage),jQuery(".modal-dialog",container).css("max-width",jQuery(window).width()*widthPercentage),jQuery(".modal-body",container).animate({scrollTop:"0px"},1e3),jQuery(window).bind("resize",function(){jQuery(".modal-body",container).css("height",jQuery(window).height()*heightPercentage),jQuery(".modal-dialog",container).css("width",jQuery(window).width()*widthPercentage)})}function toggleCopyAddressFrom(container){container="string"==typeof container?jQuery("#"+container):jQuery(container);container=jQuery("#copyAddressFromContainer",container);container.is(":visible")?container.addClass("d-none"):container.removeClass("d-none")}function rowsUpdateCount(object,container){var objectContainer=jQuery("#"+object+"-rows-container",container),nbOfObjects=objectContainer.attr("data-count-row"),count=1;jQuery("."+object+"-div",objectContainer).each(function(){if(!(count<=nbOfObjects))return!0;jQuery(this).attr("id",object+"-"+count),jQuery(".label-signature",this).attr("id","signature-label-"+count),jQuery(".delete-signature",this).attr("onclick",'removeRow("#'+object+"-"+count+'","'+container+'")'),jQuery(".inline-error",this).attr("id","upload-error-"+count),count++})}function replaceHtmlCharacter(character){return character&&character.replace(/&#039;/g,"'").replace(/&quot;/g,'"').replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#8230;/g,"...")}function checkIfStringIsURIEncoded(string){return string.match(/%[0-9a-f]{2}/i)}function collapseDownUp(id,iconRotateId,speed,close){speed=speed||"fast",1==(close=close||!1)?jQuery("#"+iconRotateId).hasClass("rotate-origin-closed")?(jQuery("#"+iconRotateId).removeClass("rotate-origin-closed"),jQuery("#"+id).removeClass("d-block")):jQuery("#"+iconRotateId).addClass("rotate-origin-closed"):jQuery("#"+iconRotateId).hasClass("rotate-origin")?jQuery("#"+iconRotateId).removeClass("rotate-origin"):jQuery("#"+iconRotateId).addClass("rotate-origin"),jQuery("#"+id).slideToggle(speed)}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),"function"!=typeof String.prototype.sprintf&&(String.prototype.sprintf=function(e,t){var t=t||"%s",n=this.split(t),r="";for(i=0,j=n.length-1;i<j;i++)r+=n[i]+e[i];return r+n[i]}),Date.prototype.format=function(e){for(var t="",n=Date.replaceChars,r=0;r<e.length;r++){var i=e.charAt(r);n[i]?t+=n[i].call(this):t+=i}return t},Date.replaceChars={shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d:function(){return(this.getDate()<10?"0":"")+this.getDate()},D:function(){return Date.replaceChars.shortDays[this.getDay()]},j:function(){return this.getDate()},l:function(){return Date.replaceChars.longDays[this.getDay()]},N:function(){return this.getDay()+1},S:function(){return this.getDate()%10==1&&11!=this.getDate()?"st":this.getDate()%10==2&&12!=this.getDate()?"nd":this.getDate()%10==3&&13!=this.getDate()?"rd":"th"},w:function(){return this.getDay()},z:function(){return"Not Yet Supported"},W:function(){return"Not Yet Supported"},F:function(){return Date.replaceChars.longMonths[this.getMonth()]},m:function(){return(this.getMonth()<9?"0":"")+(this.getMonth()+1)},M:function(){return Date.replaceChars.shortMonths[this.getMonth()]},n:function(){return this.getMonth()+1},t:function(){return"Not Yet Supported"},L:function(){return this.getFullYear()%4==0&&this.getFullYear()%100!=0||this.getFullYear()%400==0?"1":"0"},o:function(){return"Not Supported"},Y:function(){return this.getFullYear()},y:function(){return(""+this.getFullYear()).substr(2)},a:function(){return this.getHours()<12?"am":"pm"},A:function(){return this.getHours()<12?"AM":"PM"},B:function(){return"Not Yet Supported"},g:function(){return this.getHours()%12||12},G:function(){return this.getHours()},h:function(){return((this.getHours()%12||12)<10?"0":"")+(this.getHours()%12||12)},H:function(){return(this.getHours()<10?"0":"")+this.getHours()},i:function(){return(this.getMinutes()<10?"0":"")+this.getMinutes()},s:function(){return(this.getSeconds()<10?"0":"")+this.getSeconds()},e:function(){return"Not Yet Supported"},I:function(){return"Not Supported"},O:function(){return(-this.getTimezoneOffset()<0?"-":"+")+(Math.abs(this.getTimezoneOffset()/60)<10?"0":"")+Math.abs(this.getTimezoneOffset()/60)+"00"},P:function(){return(-this.getTimezoneOffset()<0?"-":"+")+(Math.abs(this.getTimezoneOffset()/60)<10?"0":"")+Math.abs(this.getTimezoneOffset()/60)+":"+(Math.abs(this.getTimezoneOffset()%60)<10?"0":"")+Math.abs(this.getTimezoneOffset()%60)},T:function(){var e=this.getMonth(),t=(this.setMonth(0),this.toTimeString().replace(/^.+ \(?([^\)]+)\)?$/,"$1"));return this.setMonth(e),t},Z:function(){return 60*-this.getTimezoneOffset()},c:function(){return this.format("Y-m-d")+"T"+this.format("H:i:sP")},r:function(){return this.toString()},U:function(){return this.getTime()/1e3}};